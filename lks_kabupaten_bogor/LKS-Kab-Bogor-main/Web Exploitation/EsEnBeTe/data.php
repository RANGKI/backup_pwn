<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Insert Data Peserta SNBT</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="form-container">
        <h2 class="form-title">Insert Data Peserta SNBT</h2>
        <form id="pesertaForm" action="upload.php" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="nisn">NISN</label>
                <input type="text" id="nisn" name="nisn" placeholder="NISN" required>
            </div>

            <div class="form-group">
                <label for="nama">Nama</label>
                <input type="text" id="nama" name="nama" placeholder="Nama" required>
            </div>

            <div class="form-group">
                <label for="jenis-kelamin">Jenis Kelamin</label>
                <select id="jenis-kelamin" name="jenis-kelamin" required>
                    <option value="">Choose a jenis kelamin...</option>
                    <option value="laki-laki">Laki-laki</option>
                    <option value="perempuan">Perempuan</option>
                </select>
            </div>

            <div class="form-group">
                <label for="kurikulum">Kurikulum</label>
                <select id="kurikulum" name="kurikulum" required>
                    <option value="">Choose kurikulum...</option>
                    <option value="merdeka">Merdeka</option>
                    <option value="2013">2013</option>
                    <option value="2006">2006</option>
                </select>
            </div>

            <div class="form-group">
                <label for="asal-Sekolah">Asal Sekolah</label>
                <input type="text" id="asal-sekolah" name="asal-sekolah" placeholder="Asal Sekolah" required>
            </div>

            <div class="form-group">
                <label>Tempat Tanggal Lahir</label>
                <div class="birth-row">
                    <input type="text" placeholder="Tempat Lahir" name="tempat-lahir" required>
                    <input type="date" placeholder="Tanggal Lahir" name="tanggal-lahir" required>
                </div>
            </div>

            <div class="form-group">
                <label for="golongan-darah">Golongan Darah</label>
                <select id="golongan-darah" name="golongan-darah" required>
                    <option value="">Choose a golongan darah...</option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="ab">AB</option>
                    <option value="o">O</option>
                </select>
            </div>

            <div class="form-group">
                <label for="agama">Agama</label>
                <select id="agama" name="agama" required>
                    <option value="">Choose an agama...</option>
                    <option value="islam">Islam</option>
                    <option value="kristen">Kristen</option>
                    <option value="hindu">Hindu</option>
                    <option value="buddha">Buddha</option>
                    <option value="konghucu">Konghucu</option>
                </select>
            </div>

            <div class="form-group">
                <label for="tahun-lulus">Tahun Lulus</label>
                <select id="tahun-lulus" name="tahun-lulus" required>
                    <option value="">Choose a tahun lulus...</option>
                    <option value="2024-2025">2024-2025</option>
                    <option value="2023-2024">2023-2024</option>
                    <option value="2022-2023">2022-2023</option>
                </select>
            </div>

            <div class="form-group">
                <label for="no-telp">No. Telp</label>
                <input type="tel" id="no-telp" name="no-telp" placeholder="No. Telp" required>
            </div>

            <div class="form-group">
                <label for="foto">Unggah Foto Diri</label>
                <img id="image-preview" class="preview-image" src="#" alt="Image Preview">
                <input type="file" id="foto" name="foto" accept="image/*" onchange="previewImage(this)">
            </div>

            <button type="submit" class="submit-btn">Simpan</button>
        </form>
    </div>

    <script>
        function previewImage(input) {
            const preview = document.getElementById('image-preview');
            const file = input.files[0];
            const reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
                preview.style.display = 'block';

                // Store image in localStorage for confirmation page
                localStorage.setItem('uploadedImage', reader.result);
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.style.display = 'none';
                localStorage.removeItem('uploadedImage');
            }
        }

        // Optional: Prepare form data for submission
        document.getElementById('pesertaForm').addEventListener('submit', function (event) {
            // Capture form data
            const formData = new FormData(this);

            // Store form data in localStorage for confirmation page
            const formDataObj = Object.fromEntries(formData.entries());
            localStorage.setItem('formData', JSON.stringify(formDataObj));
        });
    </script>
</body>

</html>